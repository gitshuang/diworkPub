"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _extends=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},_react=require("react"),_react2=_interopRequireDefault(_react),_pagination=require("../bee/pagination"),_pagination2=_interopRequireDefault(_pagination);require("./style.css");var _style={enhanced_pagination:"enhanced_pagination__style___3LhAI",u_float_pagination:"u_float_pagination__style___2mZ3V",data_per_select:"data_per_select__style___3VIUY",data_select:"data_select__style___1N0jE",page_jump:"page_jump__style___3AeGw",page_jump_value:"page_jump_value__style___15gy0"};function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _defaults(e,t){for(var a=Object.getOwnPropertyNames(t),n=0;n<a.length;n++){var r=a[n],o=Object.getOwnPropertyDescriptor(t,r);o&&o.configurable&&void 0===e[r]&&Object.defineProperty(e,r,o)}return e}function _objectWithoutProperties(e,t){var a={};for(var n in e)0<=t.indexOf(n)||Object.prototype.hasOwnProperty.call(e,n)&&(a[n]=e[n]);return a}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):_defaults(e,t))}var EnhancedPagination=function(u){var e,t,a;return _inherits(r,a=_react.Component),r.prototype.componentWillReceiveProps=function(e){this.state.activePage!==e.activePage&&this.setState({activePage:e.activePage})},r.prototype.render=function(){var t=this,e=this.props,a=(e.onDataNumSelect,e.dataNumSelect),n=e.dataNum,r=e.enhancedPaginationText,o=e.className,i=_objectWithoutProperties(e,["onDataNumSelect","dataNumSelect","dataNum","enhancedPaginationText","className"]);return _react2.default.createElement("div",{className:_style.enhanced_pagination+" "+o},_react2.default.createElement(u,_extends({},{maxButtons:5,boundaryLinks:!0},i,{className:_style.u_float_pagination})),_react2.default.createElement("div",{className:_style.data_per_select},_react2.default.createElement("select",{name:"data-select",id:"",className:_style.data_select,value:void 0===n?this.state.dataNum:n,onChange:function(e){return t.dataNumSelect(e)}},0<a.length&&a.map(function(e,t){return _react2.default.createElement("option",{key:t,value:e.id},e.name)}))),_react2.default.createElement("div",{className:_style.page_jump},r.jump,_react2.default.createElement("input",{className:_style.page_jump_value,type:"number",value:this.state.activePage,onKeyDown:function(e){return t.onKeyup(e)},onChange:function(e){return t.setPageJump(e)}}),r.jumpPage))},t=e=r,e.defaultProps={first:!0,last:!0,prev:!0,next:!0,boundaryLinks:!0,size:"sm",gap:!0,maxButtons:7,dataNumSelect:[{id:0,name:"5条/页",value:5},{id:1,name:"10条/页",value:10},{id:2,name:"15条/页",value:15},{id:3,name:"20条/页",value:20}],items:0,activePage:1,dataNum:void 0,enhancedPaginationText:{jump:"跳至",jumpPage:"页"}},t;function r(e){_classCallCheck(this,r);var n=_possibleConstructorReturn(this,a.call(this,e));return n.onKeyup=function(e){13===e.keyCode&&n.setPageJump(e)},n.setPageJump=function(e){var t=e.target.value;if(t<1&&""!==t||t>n.props.items||0==t&&""!==t)return!1;n.setState({activePage:t},function(){""!==t&&this.props.onSelect(1*t)})},n.dataNumSelect=function(e){var t=e.target.value,a=n.props.dataNumSelect[t].value;n.setState({dataNum:t}),n.props.onDataNumSelect&&n.props.onDataNumSelect(t,a)},n.state={activePage:n.props.activePage,dataNum:"1"},n}};exports.default=EnhancedPagination(_pagination2.default),module.exports=exports.default;