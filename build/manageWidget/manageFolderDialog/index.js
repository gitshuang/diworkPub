"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _extends=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e},_react=require("react"),_react2=_interopRequireDefault(_react);require("./style.css");var _style={content:"content__style___23Jeg"},_pop=require("../../pop"),_pop2=_interopRequireDefault(_pop),_button=require("../../bee/button"),_button2=_interopRequireDefault(_button),_widgetItem=require("../manageWidgetList/widgetItem"),_widgetItem2=_interopRequireDefault(_widgetItem),_dialogContent=require("./dialogContent"),_dialogContent2=_interopRequireDefault(_dialogContent);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _defaults(e,t){for(var r=Object.getOwnPropertyNames(t),o=0;o<r.length;o++){var n=r[o],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):_defaults(e,t))}var ManageFolderDialog=function(t){function r(e){_classCallCheck(this,r);var s=_possibleConstructorReturn(this,t.call(this,e));return s.moveItemDrag=function(e,t,r,o,n,a,i){var l={id:e,preParentId:t,preType:r,afterId:o,parentId:n,afterType:a,ifIntoFile:i};(0,s.props.moveService)(l)},s.closeFolderDrag=function(){(0,s.props.closeFolder)()},s.savePosition=function(e,t){s.setState({checkId:e,moveLine:t})},s.moveLine=function(e,t){return e==s.state.checkId?t:"none"},s.moveItemDrag=s.moveItemDrag.bind(s),s.state={moveLine:"none",checkId:""},s}return _inherits(r,t),r.prototype.render=function(){var i=this,e=this.props,t=e.manageList,r=e.curEditFolderId,o=e.selectList,n=e.selectGroup,a=e.currGroupIndex,l=e.drag,s=e.deleteFolder,c=e.renameFolder,d=e.setFolderEdit,u=e.selectListActions,p=e.selectGroupActions,f=e.addFolder,g=e.delectService,_=e.languagesJSON,m={manageList:t,curEditFolderId:r,selectList:o,selectGroup:n,currGroupIndex:a,drag:l,deleteFolder:s,renameFolder:c,setFolderEdit:d,selectListActions:u,selectGroupActions:p,addFolder:f,delectService:g},v=this.props,y=v.curDisplayFolder,h=y.widgetName,D=y.children,F=v.closeFolder,b=v.folderModalDisplay,I=D&&D.map(function(e,t){var r=e.type,o=e.parentId,n=e.widgetId,a={key:"widget-"+n+"-"+t,data:e,id:n,parentId:o,index:n,preType:r,moveItemDrag:i.moveItemDrag,savePosition:i.savePosition,moveLine:i.moveLine(n,i.state.moveLine)};return _react2.default.createElement(_widgetItem2.default,_extends({},a,{folderType:"folder",type:"pop",dragType:"dragInFolder",closeFolderDrag:i.closeFolderDrag},m,{languagesJSON:_}))}),w=(this.props.isDragging,this.props),O=w.curDisplayFolder,C=w.moveService;return _react2.default.createElement("div",{className:"manageDialogFolder"},_react2.default.createElement(_dialogContent2.default,{folderModalDisplay:b,closeFolderDrag:this.closeFolderDrag,closeFolder:F,moveService:C,curDisplayFolder:O}),_react2.default.createElement(_pop2.default,{className:"manageDialogFolder",show:b,title:h,close:F},_react2.default.createElement("div",{className:_style.content},I)))},r}(_react.Component);exports.default=ManageFolderDialog,module.exports=exports.default;